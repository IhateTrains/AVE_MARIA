########################################################################################
#                                         											   #
# AVE MARIA events																	   #
# A Very Extensive Modification for Appropriate Realism and Improved Authenticity	   #
#                                         											   #
# ID AVE_MARIA_opus_ruralium_commodorum.1 - AVE_MARIA_opus_ruralium_commodorum.499	   #
#                               													   #
########################################################################################

# Written by Atreides

namespace = AVE_MARIA_opus_ruralium_commodorum_starting_pop

##NOTES:
##

## Set Up called from main player/MP host
character_event = {
	id = AVE_MARIA_opus_ruralium_commodorum_starting_pop.1

	hide_window = yes
	
	is_triggered_only = yes
	
	trigger = {
		is_save_game = no
		is_multiplayer_host_character = yes
	}
	
	immediate = {
		496 = { # Byzantium/Constantinople
			capital_holding = {
				set_variable = { which = orc_rural_peasant_pop_christian value = 4 }
				set_variable = { which = orc_rural_elite_pop_christian value = 1 }
				set_variable = { which = orc_urban_lower_class_pop_christian value = 20 }
				set_variable = { which = orc_urban_elite_pop_christian value = 6 }
				set_variable = { which = orc_holding_total_pop value = 0 }
				change_variable = { which = orc_holding_total_elite_pop which = orc_rural_elite_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_rural_peasant_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_rural_elite_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_urban_lower_class_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_urban_elite_pop_christian }
				orc_set_pop_modifier = yes
			}
		}
		112 = {
			b_meluns = {
				set_variable = { which = orc_rural_peasant_pop_christian value = 10 }
				set_variable = { which = orc_rural_elite_pop_christian value = 1 }
				set_variable = { which = orc_urban_lower_class_pop_christian value = 3 }
				set_variable = { which = orc_urban_elite_pop_christian value = 1 }
				set_variable = { which = orc_holding_total_pop value = 0 }
				change_variable = { which = orc_holding_total_elite_pop which = orc_rural_elite_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_rural_peasant_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_rural_elite_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_urban_lower_class_pop_christian }
				change_variable = { which = orc_holding_total_pop which = orc_urban_elite_pop_christian }
				orc_set_pop_modifier = yes
			}
		}
		any_province = {
			limit = {
				has_owner = yes
				NOT = { province = 496 }
				holder_scope = {
						religion_group = christian
				}
				
			}
			
			if = { # ERE
				limit = {
					# region = world_asia_minor
				}
				any_province_holding = {
					limit = { NOT = { holding_type = nomad } }
					set_variable = { which = orc_rural_peasant_pop_christian value = 7 }
					set_variable = { which = orc_rural_elite_pop_christian value = 1 }
					set_variable = { which = orc_urban_lower_class_pop_christian value = 1 }
					set_variable = { which = orc_urban_elite_pop_christian value = 1 }
					set_variable = { which = orc_holding_total_elite_pop value = 0 }
					set_variable = { which = orc_holding_total_lower_pop value = 0 }
					set_variable = { which = orc_holding_total_pop value = 0 }
					change_variable = { which = orc_holding_total_elite_pop which = orc_rural_elite_pop_christian }
					change_variable = { which = orc_holding_total_pop which = orc_rural_peasant_pop_christian }
					change_variable = { which = orc_holding_total_pop which = orc_rural_elite_pop_christian }
					change_variable = { which = orc_holding_total_pop which = orc_urban_lower_class_pop_christian }
					change_variable = { which = orc_holding_total_pop which = orc_urban_elite_pop_christian }
					orc_set_pop_modifier = yes
				}
			}
			
			any_province_holding = {
				if = {
					limit = {
						holder_scope = {
							is_theocracy = yes
						}						
					}
					remove_holding_modifier = orc_ownership_city_charter
					remove_holding_modifier = orc_ownership_military_aristocracy
					add_holding_modifier = {
						modifier = orc_ownership_clergy
						years = -1
					}
				}
				if = {
					limit = {
						holder_scope = {
							is_republic = yes
						}
					}
					remove_holding_modifier = orc_ownership_clergy
					remove_holding_modifier = orc_ownership_military_aristocracy
					add_holding_modifier = {
						modifier = orc_ownership_city_charter
						years = -1
					}
				}
				if = {
					limit = {
						holder_scope = {
							is_republic = no
							is_theocracy = no
						}
					}
					remove_holding_modifier = orc_ownership_clergy
					remove_holding_modifier = orc_ownership_city_charter
					add_holding_modifier = {
						modifier = orc_ownership_military_aristocracy
						years = -1
					}
				}
			}
			
			add_province_modifier = {
				name = orc_population_display
				duration = -1
			}
		}
	}
}
